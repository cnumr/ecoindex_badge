(()=>{"use strict";var e;const t="https://bff.ecoindex.fr",n=document.getElementById("ecoindex-badge"),r="light",o=(null!==(e=null==n?void 0:n.getAttribute("data-theme"))&&void 0!==e?e:r)===r,d=window.location.href,i="#0d2e38",a=o?i:"#fff",l=o?"#eee":i;(()=>{if(!n)return;n.style.display="none";const e=`${t}/redirect/?url=${d}`,r="Résultat analyse écoIndex : ",o="badge écoIndex : ";let i=r+"Page non mesurée",s=o+"page non mesurée",c="?",u="grey";fetch(`${t}/api/results/?url=${d}`,{method:"GET"}).then((e=>e.ok?e.json():new Promise(((e,t)=>t(`Erreur dans l'appel à l'écoindex de : ${d}`))))).then((e=>{const t=e["latest-result"],n=t.grade;i=r+n,s=o+"résultat analyse = "+n,c=n,u=t.color})).catch(console.error).finally((()=>{const t=(e=>{const t=document.createElement("span");return t.setAttribute("id","ecoindex-badge-letter"),t.append(e),t})(c),r=((e,t,n)=>{const r=document.createElement("a");return r.setAttribute("href",e),r.setAttribute("target","_blank"),r.setAttribute("rel","noreferrer"),r.setAttribute("id","ecoindex-badge-link"),r.setAttribute("title",t),r.setAttribute("aria-label",n),r.append("Ecoindex"),r})(e,i,s),o=(e=>{const t=document.createElement("style"),n=`#ecoindex-badge{font-family:Arial,sans-serif;width:108px}#ecoindex-badge-link{align-items:center;border-radius:1.3em;display:flex;font-size:13px;gap:.85em;padding:.5em .5em .5em .8em;text-decoration:none;background-color:${l};color:${a};}#ecoindex-badge-letter{align-items:center;border-radius:50%;color:#fff;display:flex;font-size:11px;font-weight:700;height:22px;justify-content:center;width:22px;background-color:${e}};`;return t.append(n),t})(u);r.appendChild(t),n.appendChild(o),n.appendChild(r),n.style.display=""}))})()})();